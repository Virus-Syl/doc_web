# 一个问题理解事务隔离级别

本文图借鉴极客时间《MySQL实战45讲》

mysql的事务隔离级别有下面四种：

* 读未提交是指，一个事务还没提交时，它做的变更就能被别的事务看到。
* 读提交是指，一个事务提交之后，它做的变更才会被其他事务看到。
* 可重复读是指，一个事务执行过程中看到的数据，总是跟这个事务在启动时看到的数据是一致的。当然在可重复读隔离级别下，未提交变更对其他事务也是不可见的。
* 串行化，顾名思义是对于同一行记录，“写”会加“写锁”，“读”会加“读锁”。当出现读写锁冲突的时候，后访问的事务必须等前一个事务执行完成，才能继续执行。

下面一个例子理解：

假设有一个表：
```
mysql> create table T(c int) engine=InnoDB;
insert into T(c) values(1);
```

两个事务操作如下：

![20200331174350](http://tuchuang.funaio.cn/md/20200331174350.png)

如果是读未提交：

v1 = 2
v2 = 2
v3 = 2

如果是读提交：

v1 = 1
v2 = 2
v3 = 2

如果是可重复读：

v1 = 1
v2 = 1
v3 = 2

如果是串形化：

b在update的时候会锁住
v1 = 1
v2 = 1
v3 = 2