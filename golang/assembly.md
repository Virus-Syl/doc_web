
# 寄存器

* FP: frame pointer, 参数和本地变量
* PC: program counter: 跳转，分支
* SB: static base pointer: 全局符号
* SP: stack pointer: 栈顶

# SB

SB的作用更像标记，声明的作用

```
FUNCDATA	$0, gclocals·33cdeccccebe80329f1fdbee7f5874cb(SB)
PCDATA	$2, $0
```

这两种代码是可以忽略的, 为了垃圾回收做的标记。


函数申明
```
TEXT	"".bar(SB), NOSPLIT, $8-24
```

函数调用
```
CALL	"".bar(SB)
```

# SP

SP是栈指针寄存器，指向当前函数栈的栈顶。

```
"".a+16(SP)
```


# 通用寄存器


X86_64	rax	rbx	rcx	rdx	rdi	rsi	rbp	rsp	r8	r9	r10	r11	r12	r13	r14	rip
Plan9	AX	BX	CX	DX	DI	SI	BP	SP	R8	R9	R10	R11	R12	R13	R14	PC

# xorl定义
```
XORL BX, BX
```
xorl是异或运算。异或运算的规则是：相同为0，不同为1。这条指令中，src是指源操作数，dest是目标操作数。指令功能为：（src）异或（dest）结果存入dest。不过一般来讲，指令的写法应该是xorl dest，src。例如：xorl ax，ax ，就是将ax的内容和ax的内容进行异或运算，因为两个数相同，所以结果为0 ，也就是ax的内容变为0。异或运算可以用来对特定的位进行取反。

上面语句就是把BX设置为0

# cmpq

```
0x10914d3		4883fb0a		CMPQ $0xa, BX		
0x10914d7		7d54			JGE 0x109152d
```

if (BX - 0xa > 0) {
  jump 0x109152d
}

# 参考文章

https://zhuanlan.zhihu.com/p/23618489
[是否可以在Google Go代码中包含内联汇编？](https://codeday.me/bug/20171106/92975.html)
[golang 汇编](https://lrita.github.io/2017/12/12/golang-asm/)
[Go & Assembly](http://www.doxsey.net/blog/go-and-assembly)
[A Quick Guide to Go's Assembler](https://golang.org/doc/asm)
[Go Assembly 学习笔记](https://studygolang.com/articles/10904)
[Golang中的Plan9汇编器](https://github.com/yangyuqian/technical-articles/blob/master/asm/golang-plan9-assembly-cn.md)
[Go functions in assembly language](https://lrita.github.io/images/posts/go/GoFunctionsInAssembly.pdf)
[Golang汇编命令解读](https://www.cnblogs.com/yjf512/p/6132868.html)
[Golang Internals, Part 4: Object Files and Function Metadata](https://blog.altoros.com/golang-part-4-object-files-and-function-metadata.html)
[The Go type system for newcomers](https://rakyll.org/)
[得到Go程序的汇编代码的方法](https://colobu.com/2018/12/29/get-assembly-output-for-go-programs/)
[Golang Internals Part 1: Autogenerated functions (and how to get rid of them)](https://blog.minio.io/golang-internals-part-1-autogenerated-functions-and-how-to-get-rid-of-them-6ca4749cc236)
[Golang汇编快速指南](https://studygolang.com/articles/2917)
[Go Assembly by Example: Sync Atomic](https://www.davidwong.fr/goasm/sync-atomic)
[A Foray Into Go Assembly Programming](https://blog.sgmansfield.com/2017/04/a-foray-into-go-assembly-programming/)
